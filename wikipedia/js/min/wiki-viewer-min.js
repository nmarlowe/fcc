function searchWikipedia(e){$.ajax(e).done(function(e){$("#results").empty().append('<div class="select"><p>Select one of the following:</p></div>');var t=e[1],i=e[3],o={};t.forEach(function(e,t){o[e]=i[t]});var n='<ol type="a">';$.each(o,function(e,t){n+='<li><a class="menu-item" href="'+t+'">'+e+"</a></li>"}),n+='<li><a href="#" id="back" class="menu-item">Main menu</a></li>',n+="</ol>",n+='<div class="command-prompt"><p>Selection or command</p>',n+='<p>===> <span class="cursor">_</span></p></div>',$("#results").append(n),$(document).keydown(function(e){65===e.which?(console.log(t[0]),searchTitle="",searchTitle=searchTitle[0],searchArticle()):66===e.which?window.location.href=i[1]:67===e.which?window.location.href=i[2]:68===e.which?window.location.href=i[3]:69===e.which?window.location.href=i[4]:70===e.which&&location.reload()}),$(function(){$("#back").click(function(){location.reload()})})})}function readInput(e,t){13===t.keyCode&&(""===e.value?window.open("https://onetoday.google.com/home/projects?utm_source=ifg","_self"):(searchTerms=e.value,searchUrl="https://en.wikipedia.org/w/api.php?action=opensearch&origin=%2a&format=json&limit=5&formatversion=latest&search="+searchTerms,searchWikipedia(searchUrl)))}function startSearch(){$("#first-screen").hide(),$("#footer").hide(),$("#results").empty().append('What would you like to search for? ===> <input type="text" id="searchInput" name="search" onkeydown="readInput(this, event)" autofocus>')}function searchArticle(){$.ajax(searchSettings).done(function(e){function t(){window.open("https://en.wikipedia.org/?curid="+o,"_self")}function i(){location.reload()}var o="",n="",r="",a="img/mischief.jpg";o=e.query.pageids[0],n=e.query.pages[0].title,r=e.query.pages[0].extract,a=e.query.pages[0].hasOwnProperty("thumbnail")?e.query.pages[0].thumbnail.original:"img/mischief.jpg",console.log("Page ID: "+o),console.log("Title: "+n),console.log("Extract: "+r),console.log("Page Images: "+a),$("#first-screen").hide(),$("#results").empty().append("Page Title: "+n+"<br><br>Page Intro: "+r+'<br><br><img class="dither img-responsive" id="target" src="'+a+'" crossorigin="anonymous"/><script type="text/javascript" src="dist/ditherjs.min.js"></script><script type="text/javascript" src="dist/jquery.ditherjs.js"></script><script>$(function() {console.log("ready");var options = {"step":1,"algorithm": "atkinson","monochrome": true,"palette": [[0,0,0],[255,255,255]]};$(".dither").ditherJS(options);});</script><br><br>Would you like to go <a href="#" id="continue-next" class="intro-menu">[p]roceed</a> to the page or go back to the <a href="#" id="back" class="intro-menu">[m]ain</a> to the menu? ===> <span class="cursor">_</span>'),$(document).keydown(function(e){80===e.which?t():77===e.which&&i()}),$(function(){$("#continue-next").click(function(e){e.preventDefault(),t()})}),$(function(){$("#back").click(function(e){e.preventDefault(),i()})})})}function randomArticle(){$.ajax(randomSettings).done(function(e){function t(){window.open("https://en.wikipedia.org/?curid="+o,"_self")}function i(){location.reload()}var o="",n="",r="",a="img/mischief.jpg";o=e.query.pageids[0],n=e.query.pages[0].title,r=e.query.pages[0].extract,a=e.query.pages[0].hasOwnProperty("thumbnail")?e.query.pages[0].thumbnail.original:"img/mischief.jpg",console.log("Page ID: "+o),console.log("Title: "+n),console.log("Extract: "+r),console.log("Page Images: "+a),$("#first-screen").hide(),$("#results").empty().append("Page Title: "+n+"<br><br>Page Intro: "+r+'<br><br><img class="dither img-responsive" id="target" src="'+a+'" crossorigin="anonymous"/><script type="text/javascript" src="dist/ditherjs.min.js"></script><script type="text/javascript" src="dist/jquery.ditherjs.js"></script><script>$(function() {console.log("ready");var options = {"step":1,"algorithm": "atkinson","monochrome": true,"palette": [[0,0,0],[255,255,255]]};$(".dither").ditherJS(options);});</script><br><br>Would you like to go <a href="#" id="continue-next" class="intro-menu">[p]roceed</a> to the page or go back to the <a href="#" id="back" class="intro-menu">[m]ain</a> to the menu? ===> <span class="cursor">_</span>'),$(document).keydown(function(e){80===e.which?t():77===e.which&&i()}),$(function(){$("#continue-next").click(function(e){e.preventDefault(),t()})}),$(function(){$("#back").click(function(e){e.preventDefault(),i()})})})}var searchTerms="",searchUrl="",searchTitle="",searchSettings={async:!0,crossDomain:!0,url:"https://en.wikipedia.org/w/api.php?action=query&format=json&formatversion=2&piprop=original%7Cname&origin=%2A&prop=extracts%7Cpageimages&indexpageids=&exintro=1&titles="+searchTitle,type:"GET"},randomSettings={async:!0,crossDomain:!0,url:"https://en.wikipedia.org/w/api.php?action=query&format=json&formatversion=2&piprop=original%7Cname&origin=%2A&prop=extracts%7Cpageimages&generator=random&grnnamespace=0&indexpageids=&exintro=1",type:"GET"};$(document).keydown(function(e){49===e.which?($(document).off("keydown"),startSearch()):50===e.which&&($(document).off("keydown"),randomArticle())}),$(function(){$("#menu-2").click(function(e){e.preventDefault(),randomArticle()})}),$(function(){$("#menu-1").click(function(e){e.preventDefault(),startSearch()})});